{% extends "layout.html" %}
{% block content %}
<h1 class="mb-4">My Progress Report</h1>

<article class="media content-section shadow-sm p-3 mb-3 bg-white rounded border">
  <img class="article-img mr-3 rounded-circle"
       src="{{ url_for('static', filename=student.profile_pic or 'profile_pics/default.jpg') }}"
       width="100">

  <div class="media-body">
    <div class="article-metadata d-flex justify-content-between align-items-center mb-2">
      <h4 class="text-primary mb-0">{{ student.name }}</h4>
      <small class="text-muted">Class: {{ student.student_class }}</small>
    </div>

    <p class="mb-1"> <strong>Attendance:</strong> {{ student.attendance }}%</p>
    <p class="mb-1"><strong>Examination Score:</strong> {{ student.exam_score }}%</p>
    <p class="mb-1"> <strong>Training Completion:</strong> {{ student.training_completion }}%</p>
    <p class="mb-1"> <strong>Certificates:</strong> {{ student.certificates or "None" }}</p>
    <p class="mb-0"> Status:
      <span class="badge badge-{{ student.status_color }}">{{ student.status }}</span>
    </p>

    <!-- New lines for gamification -->
    <p class="mb-1">Points: {{ student.points }}</p>
    <p class="mb-1">Badges:
      {% for badge in student.badges %}
        {% if badge.earned %}
          <span class="badge badge-success mb-1">{{ badge.name }}</span>
        {% else %}
          <span class="badge badge-secondary mb-1">{{ badge.name }}</span>
        {% endif %}
      {% endfor %}
    </p>
  </div>
</article>
{% endblock content %}
